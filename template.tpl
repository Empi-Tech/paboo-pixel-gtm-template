___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "displayName": "Paboo pixel",
  "description": "Το Paboo pixel είναι ένα pixel παρακολούθησης που βοηθά στην εξατομίκευση στο Paboo και βοηθά στην παροχή καλύτερων αποτελεσμάτων στα ηλεκτρονικά καταστήματα.",
  "categories": [
    "CONVERSION_TRACKING",
    "PERSONALIZATION"
  ],
  "securityGroups": [],
  "id": "cvt_temp_public_id",
  "type": "TAG",
  "version": 1,
  "brand": {
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAH6XpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7Zddlts4DoXfuYpZgvgLcDkkQZ4zO+jlzwfZ5Y6rkunMdN46VpUlUxII4l5cgGH/8e8T/sUn9a6hVNHWW7v4lF56Glzo9fiM+zte5f6+P+15i99v4+F1IzGUOefHT33eiB/j8WXgcRpc1W8M6XremO83enna10+G0uOU3SO/tqeh/jSU0+NGfBoY47mUrvLtEuZ+nO1jJfr4D/5V9N3tL7+F6FllnpzSzjFffKecHg5k/48hDy4a3ylzh4eE68LhIx9LJSDfi9P1jVfhMyqvq/iD8U+g5PYYDwy8B7O9zt8dj/XT+NNguEP8zcx5vWZ+G5f8ZNWnIPv/OabhnP1Y3SiNkLbnoj6Wcl/x4CTk+X6tcQj/lWu5j86hgXkWkNu1rsmxYo8JWE4s0eKIJ+77vOLCxZJ2Es4pLYDyMc2Selr5CuDkGJV4kuSeLStoLeDNjKaXL/Get9/TrahMbJEnU8RYdCoE//oVxw8NneOUj/HSV6zwKzkJccOR82+eApB4PnhU7wB/HJ8/jmsGwXqHWVnguObDxKzxyS3nUb6BzjxYOT9yLYo9DRAi5q44EzMIXC3mGlu8JCWJkTgq+AwMacolTSCItSbDy1RyboCjyefmHYn3s6mmxzCaBRCVxBKg6XmAVUHY4I8UhUOj5lpqra1K1drraLmVVltr0lz8hmQpUqWJiEqXoVmLVm0qqkG7jp56Rhxrb1269t7HYNKB5cHbgwfGmGnmWWadbcrU2edY0GeVVVdbsjSsvoYly4ZOWDMxtW5jxw2Vdtl1ty1bd9/jQLWTTzn1tCNHTz/jhVoMD1i/HD+PWvxALd1I+YPyQo1XRT5MRJeT6piBWCoRxMURgNDJMbs0lpKCQ+eYXR1lyzXhZXVwLDpiIFh2TPXEF3Z/IveGWyjlb+GWPpALDt2vQC44dD9A7itu30HNXO7WlcONkKehB/XKpB8v60g6DitXFMevvb7993P42Qd/G/pt6B9jyKvtXo0UTdvCTmS81YJazDRQuL40Hmsz71FLz43HVx2lH7ncRBpaYqn8eZv45zl8Hvi/znWWMHfsc6U55zLNsS+xnc+myJ0ic6uU0223HlG4VAtlAa9txbO7/0qUid3KtcP26kmLgiqmLZImYlnapDHT1U6yig6eWTIydmkpaNvC3mx2kMGFLrXTxlojWLQkld6zlbX8jQuL/BJ0DtWabVCGdWKi57yZqrZiXZci3WWLTUsjWukBde9tmk4cRc4rUmgH0dz1XItVpr0PDedqEo/oQfi0liiTt4lFSQlxRu9H6M3mcb3eZ9u2t3U/l+0LHLffzXKiEFBfaLJ6tEy0ZJ5Z8wyVVw8/qHqn9Dl5ZbfWt1rLybRN7wLHolDY7O0ODEWItvIaywwJr7NbGWxq+oiinRo0W0evKVNIualMa7uYsBYTCgUlpBFDqEcNzJn191PHrlk6NaFJiISDgPaT19intb2qFexZbwDsMSm5xblyFh1fSUJsc522crBJfbOL0llaxuTuUByY6iCeDhMF8wETrdUFTLB+dLAoduah+NWa1WoNhFUXEUtGcBuT5LQqfTC9mHNF4UrzOja6PdyKVFk41XLWM5eclcbYw8IY2Stxmr0CRgWrrvueeI9xO/3mcx/SxrBKFE6KdfckbdazVmDhZS+5qXu0rBnpsr+4Y9rbaon470Lx7UYK5dZ8k7eAB4KHOohunc7tDtPhdtJaL7id7faLvoO+YDtrppolhfKtDuwThH6z9qrrhPflzthYDx2COBnmoC8quiTDLmCo0KxMKwT+Up2XHDpc2oyknmvub5kUeZrenUfVVW7dmY3O6r7itb8+h7cBGmVaMNQFv4WmTQwoDiYbxKBpiR1+X+K5gVx0xOTcu+V8Dj1kpU+Bsla07+TeV5vQxJkqe/dz4mD/NKoI/VcWOreMFMAG2vNGt9ZI/t0CycljBJTYRk9Bzw3EVQjXFCFPiRwCO9pZ7OxyxyHye1YlQ0mRZYdlpB4arVvSZnaSp9nJPHVqJzmNDu54B0fqjrHajZynd09MNKfzi13WcH6JhjFlFEhoznt0Xx39JGMD9k0her2d2mSjNunxHOJ+5gDiRpNsJol8GDGGWGZ8MHCjEZG4OL1kiDiBhxH2WJlVWDKCNzujk85wbrRFdxM6PXZi8EjinD67i3muSFdkZgoUW0WEcVwHtkm+Re/GpUwK0p5pDTrUFYXYKa12ANTsCY3KtzmF1vnqTgW6a6emrEXK54cOQrzGHjrBTkWJhu9dKTQ1glDA5Y46koD098S6GuA6ZDqlEFU0yDXNIYuZFUZ8o6SSGB44yhh9ugcufETOX2XnXYsAm8JKtC1VlAVFvQhLWS7Y6HZaLtgKWxDsw5zo1Xc9krFmXWhBRAuopG492ZybHQ0l4i5SaImnGQppg1xwyQzHFXyz4zigji6e3TglMISb7D2oAKgvQghiksYGLPQm64Ued+fvYOvSXNhgODXmey5TJGEjGPS/wKAiUeGi7FCPIiGN7DcKMme73ECwan1btWsJ7CJhak8UiFRQ83xUfXd0B99ewe+k6zkUNYoiu2E2TJTHtMjSkjJilYc9dxWG3nzTLIX/qbuaNBdG1hGP2RJe352KF+XsdY0o+3MdiNSLopdqb3xoSH6+fwu/poP8bei3oX+IoXOss2X6D/Kw42vAkkSEAAABhWlDQ1BJQ0MgcHJvZmlsZQAAeJx9kT1Iw0AcxV9btSJVBwuKCGaoLloQFXHUKhShQqgVWnUwufRDaNKQpLg4Cq4FBz8Wqw4uzro6uAqC4AeIm5uToouU+L+k0CLGg+N+vLv3uHsH+KtFppotY4CqWUYyHhPSmRUh+Io29KILIxiUmKnPimICnuPrHj6+3kV5lve5P0enkjUZ4BOIZ5huWMTrxFObls55nzjMCpJCfE48atAFiR+5Lrv8xjnvsJ9nho1Uco44TCzkm1huYlYwVOJJ4oiiapTvT7uscN7irBbLrH5P/sJQVlte4jrNAcSxgEWIECCjjA0UYSFKq0aKiSTtxzz8/Y5fJJdMrg0wcsyjBBWS4wf/g9/dmrmJcTcpFANaX2z7YwgI7gK1im1/H9t27QQIPANXWsNfqgLTn6RXGlrkCOjeBi6uG5q8B1zuAH1PumRIjhSg6c/lgPcz+qYM0HMLdKy6vdX3cfoApKirxA1wcAgM5yl7zePd7c29/Xum3t8PkQ9yszWTOoUAAA+LaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczppcHRjRXh0PSJodHRwOi8vaXB0Yy5vcmcvc3RkL0lwdGM0eG1wRXh0LzIwMDgtMDItMjkvIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6cGx1cz0iaHR0cDovL25zLnVzZXBsdXMub3JnL2xkZi94bXAvMS4wLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6NGM4NzU4YmUtM2I1OS00NDM5LWExYzEtYmE4NDcwN2UwNzg4IgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmU1NzQyYzE2LTg2NDUtNDA3ZC04NzgxLWE1OTFhNmZjYzUzOSIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjRmNjM3MTVhLTFlMDUtNDJhYy1iNDdjLWU0YWVjOWFjZmVmOSIKICAgR0lNUDpBUEk9IjIuMCIKICAgR0lNUDpQbGF0Zm9ybT0iTGludXgiCiAgIEdJTVA6VGltZVN0YW1wPSIxNjI0NDU5NDY4MzMxNTE1IgogICBHSU1QOlZlcnNpb249IjIuMTAuMjIiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICB0aWZmOk9yaWVudGF0aW9uPSIxIgogICB4bXA6Q3JlYXRvclRvb2w9IkdJTVAgMi4xMCI+CiAgIDxpcHRjRXh0OkxvY2F0aW9uQ3JlYXRlZD4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OkxvY2F0aW9uQ3JlYXRlZD4KICAgPGlwdGNFeHQ6TG9jYXRpb25TaG93bj4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OkxvY2F0aW9uU2hvd24+CiAgIDxpcHRjRXh0OkFydHdvcmtPck9iamVjdD4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OkFydHdvcmtPck9iamVjdD4KICAgPGlwdGNFeHQ6UmVnaXN0cnlJZD4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OlJlZ2lzdHJ5SWQ+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjZjZDRhNGRlLTljY2QtNGY4NS05NTVlLTg2NTFlN2NjMGU1MCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChMaW51eCkiCiAgICAgIHN0RXZ0OndoZW49IiswMzowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgIDxwbHVzOkltYWdlU3VwcGxpZXI+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpJbWFnZVN1cHBsaWVyPgogICA8cGx1czpJbWFnZUNyZWF0b3I+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpJbWFnZUNyZWF0b3I+CiAgIDxwbHVzOkNvcHlyaWdodE93bmVyPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6Q29weXJpZ2h0T3duZXI+CiAgIDxwbHVzOkxpY2Vuc29yPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6TGljZW5zb3I+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4lLeqoAAAABmJLR0QA9QCvALkZDnUnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5QYXDiwc732g/AAABHVJREFUeNrt3M9PHFUAB/DvvNnZ2WV/sS1gtdBCm9ImpDUtVAUqFluJXgzHpokX60GN2h5o4s2DNz0ZEzCpmpha4sG/wFLjRY2BWTXCoWCMkKJCKbLL7DKzM/vGw24WFje7Xhgi/X6TzSaz37xJ3mfm7cwku8rg8A0XgACzG5EBAErpxfgfhUf+LocABCAAQwACMAQgAEMAAjAEIABDAAIwBCAAQwACMAQgAEMAAjAEIABDAAIwBCAAQwACMAQgAEMAAjAEIABDAAIwDwvAm08kCLCbCQiFAMz/HEATSt2f5v+XjlLq+dHZsTParx0pCvDamTj2RwLI5SVCmoKC9PDxVAYrtixPxKtn4miKbu0AnxhpXDoZw4eT6fJ4b/cnoQrAcjw0BAVWTAcfpdbhlT5vDglc6Y5DFUq58yDrYszIlDtNusArPZWd1ayLsVQG0ttjANd7G5G6t4EJI1Pe1pkI4Fp/Eu9+swpbehjpbcRPf1gYS212jiVUXO1LIufIiiP2y18y+DVTKG8bOhzCSG8j3v9+DSFVwdW+JD4z1jCX3uw8d0jH9b5GvPfdGoJCwbX+JG6m0ri75pY7Fw7pGOktdvbMEtTdrCFrS0ws2BXbZ9Mu7syZuNwVwekmDRuOxO15q6Izly5gYtbEgbhW3uYBFZMPAF/NW7Bcicf3a7jcFcHErFkx+QBwe8FGLi9xurnY+XrOrJh8ALizYCNrS3S3aL4AqB0nXnwHO/xvKau2h8k/7aqn9e+ZAl44FkEyLPDtvIWlDVm14+YL+C3twnMlFs1C1f3k8xJnW3U0xzR8PmNW7Vi2xJOtIbTENNycrt7J2QU81RaG8Vd+p+ff8+UM6NoXqCnsbXuvlkJJ7+f7Ts1xFEWpOY5XWsNqdjz4Fl8AzrWHEdOq7+p8q47ldQfGooWB9nDVzsDBIIZPFW/AXjoZxbnHglV7T7eHMXXPwgPTwcDB6p2B9jCMRQvL6w7Ot+pVO890hJFatPbWZagQwOGoWrHtaFzFxc4oxmeyMO47iOoCz7ZVTsqRmIqh4zEsZYpr9a1pE8+fiKEjVjnWhTYdDUGBH1cc3JrOYuh4DEe2dQZbdUR1AWPZwfhMFhc7ozgaV/91QCTCKiaXHX+uDgeHbxR2GuKts3GMT5sY7ozg0YSGjFVAJCjgAfh0Ko0lq7juCwV4vTuOfQ0BpLd2jDQunYrhgx+Kl6EHwgIvdxfPiGxeIh5S8XfOxaixefn4SKmjlDqJkIrVbZ2WkMCVnmLHtCUSYRVrGy5GpzIo+LMMSV8A3uiJ44sZEyulL9iopiDnejWvtaNBgZwja3aEAjQEFJiOV7ujCZh5WWccAdORft+HSV/uA7Z/qdWasHInX38ypFd/LOnVH6s4ju+Tz2dBD82zIA+ALvjHjLv2KGJ0y+MHhksQARgCEIAhAAEYAhCAAAwBCMAQgAAMAQjAEIAADAEIwBCAAAwBCMAQgAAMAQjAEIAADAEIwBCAAAwBCMAQgAAMAfZCAij+jNfjVOxKvH8An4WNvH42loMAAAAASUVORK5CYII=",
    "displayName": "paboo",
    "id": "github.com_paboo"
  },
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "notSetText": "API key value is mandatory.",
    "help": "Unique identifier",
    "valueValidators": [
      {
        "args": [
          32,
          32
        ],
        "errorMessage": "API must be exactly 32 chars long.",
        "type": "STRING_LENGTH"
      }
    ],
    "displayName": "API key",
    "simpleValueType": true,
    "name": "apiKey",
    "type": "TEXT"
  },
  {
    "macrosInSelect": false,
    "selectItems": [
      {
        "displayValue": "PageView",
        "value": "PageView"
      },
      {
        "displayValue": "ViewContent",
        "value": "ViewContent"
      },
      {
        "value": "AddToCart",
        "displayValue": "AddToCart"
      },
      {
        "value": "Transaction",
        "displayValue": "Transaction"
      }
    ],
    "displayName": "Track type",
    "defaultValue": "PageView",
    "simpleValueType": true,
    "name": "trackType",
    "type": "SELECT"
  },
  {
    "displayName": "Transaction variables",
    "name": "TransactionVariablesGrouptransaction",
    "groupStyle": "ZIPPY_OPEN",
    "type": "GROUP",
    "subParams": [
      {
        "displayName": "Values of transaction variables are usually provided using dataLayer.",
        "name": "TransactionVariablesGroupTitle",
        "type": "LABEL"
      },
      {
        "help": "Unique transaction identifier",
        "displayName": "Transaction ID",
        "simpleValueType": true,
        "name": "transactionId",
        "type": "TEXT"
      },
      {
        "help": "Order total value",
        "displayName": "Order value",
        "simpleValueType": true,
        "name": "orderValue",
        "type": "TEXT"
      },
      {
        "help": "ISO 4217 currency code (EUR, USD)",
        "displayName": "Order currency",
        "simpleValueType": true,
        "name": "currency",
        "type": "TEXT"
      },
      {
        "help": "Names of bought products. Multiple values are separated by comma (,). Preferably use the same names as in your Paboo product feed.",
        "displayName": "Product names",
        "simpleValueType": true,
        "name": "productNames",
        "type": "TEXT"
      },
      {
        "help": "IDs of bought products. Multiple values are separated by comma (,). Preferably use the same IDs as in your Paboo product feed.",
        "displayName": "Product IDs",
        "simpleValueType": true,
        "name": "productIds",
        "type": "TEXT"
      }
    ],
    "enablingConditions": [
      {
        "paramName": "trackType",
        "paramValue": "Transaction",
        "type": "EQUALS"
      }
    ]
  },
  {
    "displayName": "AddToCart variables",
    "name": "AddToCartVariablesGrouptransaction",
    "groupStyle": "ZIPPY_OPEN",
    "type": "GROUP",
    "subParams": [
      {
        "displayName": "Values of AddToCart variables are usually provided using dataLayer.",
        "name": "addToCartVariablesGroupTitle",
        "type": "LABEL"
      },
      {
        "help": "IDs of products added into cart. Multiple values are separated by comma (,). Preferably use the same IDs as in your Paboo product feed.",
        "displayName": "Product IDs",
        "simpleValueType": true,
        "name": "addToCartProductIds",
        "type": "TEXT"
      },
      {
        "help": "Names of products added into cart. Multiple values are separated by comma (,). Preferably use the same names as in your Paboo product feed.",
        "displayName": "Product names",
        "simpleValueType": true,
        "name": "addToCartProductNames",
        "type": "TEXT"
      },
      {
        "help": "Product price",
        "displayName": "Product price (optional)",
        "simpleValueType": true,
        "name": "addToCartProductPrice",
        "type": "TEXT"
      },
      {
        "help": "ISO 4217 currency code (EUR, USD)",
        "displayName": "Product price currency (optional)",
        "simpleValueType": true,
        "name": "addToCartCurrency",
        "type": "TEXT"
      }
    ],
    "enablingConditions": [
      {
        "paramName": "trackType",
        "paramValue": "AddToCart",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "ViewContentVariablesGroup",
    "displayName": "ViewContent variables",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "LABEL",
        "name": "ViewContentVariablesGroupTitle",
        "displayName": "Values of ViewContent variables are usually provided using dataLayer."
      },
      {
        "type": "SELECT",
        "name": "contentType",
        "displayName": "Content type",
        "selectItems": [
          {
            "value": "product",
            "displayValue": "Product"
          },
          {
            "value": "category",
            "displayValue": "Category"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "product"
      },
      {
        "type": "TEXT",
        "name": "viewContentProductIds",
        "displayName": "Product IDs",
        "simpleValueType": true,
        "help": "IDs of viewed products. Multiple values are separated by comma (,). Preferably use the same IDs as in your Paboo product feed."
      }
    ],
    "enablingConditions": [
      {
        "paramName": "trackType",
        "paramValue": "ViewContent",
        "type": "EQUALS"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const injectScript = require('injectScript');
const callInWindow = require('callInWindow');
const log = require('logToConsole');
const set = require('setInWindow');
const createArgumentsQueue = require('createArgumentsQueue');
const getType = require('getType');

let pabooObject = function () {
  createArgumentsQueue('paboo', 'pabooObject.px');
};

set('PabooTrackerObject', 'paboo');
set('paboo', pabooObject);

const onSuccess = function () {
  callInWindow('paboo', 'create', data.apiKey, null, {source: 'gtm'});
  
  if (data.trackType === 'PageView') {
  	callInWindow('paboo', 'track', 'PageView');  
  }
  
  if (data.trackType === 'Transaction') {
    let eventValues = {};
    if (data.orderValue) {
        eventValues.value = data.orderValue;
    }
    if (data.currency) {
        eventValues.currency = data.currency;
    }
    if (data.productNames) {
		if (getType(data.productNames) === 'array') {
          	eventValues.product_names = data.productNames;
        } else {
			eventValues.product_names = stringToArray(data.productNames);
        }
    }
    // transaction products
    if (data.productIds) {
        if (getType(data.productIds) === 'array') {
			eventValues.item_ids = data.productIds;
        } else {
			eventValues.item_ids = stringToArray(data.productIds);
        }
    }
    
    if (data.transactionId) {
        eventValues.transaction_id = data.transactionId;
    }
    
  	callInWindow('paboo', 'track', 'Purchase', eventValues);
  }
  
  if (data.trackType === 'ViewContent') {
    let eventValues = {};
    
    if (data.contentType) {
        eventValues.content_type = data.contentType;
    }
    
    // view content products
    if (data.viewContentProductIds) {
        if (getType(data.viewContentProductIds) === 'array') {
			eventValues.item_ids = data.viewContentProductIds;
        } else {
			eventValues.item_ids = stringToArray(data.viewContentProductIds);
        }
    }
    
    callInWindow('paboo', 'track', 'ViewContent', eventValues);
  }
  
  if (data.trackType === 'AddToCart') {
    let eventValues = {};
    
    // add to cart products
    if (data.addToCartProductIds) {
        if (getType(data.addToCartProductIds) === 'array') {
			eventValues.item_ids = data.addToCartProductIds;
        } else {
			eventValues.item_ids = stringToArray(data.addToCartProductIds);
        }
    }
    
    if (data.addToCartProductPrice) {
        eventValues.value = data.addToCartProductPrice;
    }
    if (data.addToCartCurrency) {
        eventValues.currency = data.addToCartCurrency;
    }
    if (data.addToCartProductNames) {
		if (getType(data.addToCartProductNames) === 'array') {
          	eventValues.product_names = data.addToCartProductNames;
        } else {
			eventValues.product_names = stringToArray(data.addToCartProductNames);
        }
    }
    
    callInWindow('paboo', 'track', 'AddToCart', eventValues);
  }
    
  
  data.gtmOnSuccess();
};

const onFailure = function () {
  log('Error loading Paboo pixel code.');
  
  data.gtmOnFailure();
};

// removes falsy values from array
const stringToArray = function (strValue) {
  return strValue.split(',').map(function(el) { return el.trim(); }).filter(function(el) { return el; });
};

injectScript('https://tracking.paboo.gr/js/compiled/px.js', onSuccess, onFailure);


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "paboo"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "PabooTrackerObject"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "paboo.px"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://www.pathis.config[trackerName].siteDomain
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 18/06/2021, 11:53:25

